{"version":3,"file":"leaflet.directive.js","sources":["../../../src/leaflet/core/leaflet.directive.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n\tDirective, ElementRef, EventEmitter, HostListener, Input, NgZone, OnChanges, OnInit, Output,\n\tSimpleChange\n} from '@angular/core';\n\nimport { latLng, LatLng, LatLngBounds, LeafletEvent, LeafletMouseEvent, map, Map, MapOptions } from 'leaflet';\n\nimport { LeafletUtil } from './leaflet.util';\n\n@Directive({\n\tselector: '[leaflet]'\n})\nexport class LeafletDirective\n\timplements OnChanges, OnInit {\n\n\treadonly DEFAULT_ZOOM = 1;\n\treadonly DEFAULT_CENTER = latLng(38.907192, -77.036871);\n\treadonly DEFAULT_FPZ_OPTIONS = {};\n\n\tresizeTimer: any;\n\n\t// Reference to the primary map object\n\tmap: Map;\n\n\t@Input('leafletFitBoundsOptions') fitBoundsOptions = this.DEFAULT_FPZ_OPTIONS;\n\t@Input('leafletPanOptions') panOptions = this.DEFAULT_FPZ_OPTIONS;\n\t@Input('leafletZoomOptions') zoomOptions = this.DEFAULT_FPZ_OPTIONS;\n\t@Input('leafletZoomPanOptions') zoomPanOptions = this.DEFAULT_FPZ_OPTIONS;\n\n\n\t// Default configuration\n\t@Input('leafletOptions') options: MapOptions = {};\n\n\t// Configure callback function for the map\n\t@Output('leafletMapReady') mapReady = new EventEmitter<Map>();\n\n\t// Zoom level for the map\n\t@Input('leafletZoom') zoom: number;\n\t@Output('leafletZoomChange') zoomChange = new EventEmitter<number>();\n\n\t// Center of the map\n\t@Input('leafletCenter') center: LatLng;\n\t@Output('leafletCenterChange') centerChange = new EventEmitter<LatLng>();\n\n\t// Set fit bounds for map\n\t@Input('leafletFitBounds') fitBounds: LatLngBounds;\n\n\t// Set the max bounds for the map\n\t@Input('leafletMaxBounds') maxBounds: LatLngBounds;\n\n\t// Set the min zoom for the map\n\t@Input('leafletMinZoom') minZoom: number;\n\n\t// Set the max zoom for the map\n\t@Input('leafletMaxZoom') maxZoom: number;\n\n\n\t// Mouse Map Events\n\t@Output('leafletClick') onClick = new EventEmitter<LeafletMouseEvent>();\n\t@Output('leafletDoubleClick') onDoubleClick = new EventEmitter<LeafletMouseEvent>();\n\t@Output('leafletMouseDown') onMouseDown = new EventEmitter<LeafletMouseEvent>();\n\t@Output('leafletMouseUp') onMouseUp = new EventEmitter<LeafletMouseEvent>();\n\t@Output('leafletMouseMove') onMouseMove = new EventEmitter<LeafletMouseEvent>();\n\t@Output('leafletMouseOver') onMouseOver = new EventEmitter<LeafletMouseEvent>();\n\t@Output('leafletMouseOut') onMouseOut = new EventEmitter<LeafletMouseEvent>();\n\n\t// Map Move Events\n\t@Output('leafletMapMove') onMapMove = new EventEmitter<LeafletEvent>();\n\t@Output('leafletMapMoveStart') onMapMoveStart = new EventEmitter<LeafletEvent>();\n\t@Output('leafletMapMoveEnd') onMapMoveEnd = new EventEmitter<LeafletEvent>();\n\n\t// Map Zoom Events\n\t@Output('leafletMapZoom') onMapZoom = new EventEmitter<LeafletEvent>();\n\t@Output('leafletMapZoomStart') onMapZoomStart = new EventEmitter<LeafletEvent>();\n\t@Output('leafletMapZoomEnd') onMapZoomEnd = new EventEmitter<LeafletEvent>();\n\n\n\tconstructor(private element: ElementRef, private zone: NgZone) {\n\t\t// Nothing here\n\t}\n\n\tngOnInit() {\n\n\t\t// Create the map outside of angular so the various map events don't trigger change detection\n\t\tthis.zone.runOutsideAngular(() => {\n\n\t\t\t// Create the map with some reasonable defaults\n\t\t\tthis.map = map(this.element.nativeElement, this.options);\n\t\t\tthis.addMapEventListeners();\n\n\t\t});\n\n\t\t// Only setView if there is a center/zoom\n\t\tif (null != this.center && null != this.zoom) {\n\t\t\tthis.setView(this.center, this.zoom);\n\t\t}\n\n\t\t// Set up all the initial settings\n\t\tif (null != this.fitBounds) {\n\t\t\tthis.setFitBounds(this.fitBounds);\n\t\t}\n\n\t\tif (null != this.maxBounds) {\n\t\t\tthis.setMaxBounds(this.maxBounds);\n\t\t}\n\n\t\tif (null != this.minZoom) {\n\t\t\tthis.setMinZoom(this.minZoom);\n\t\t}\n\n\t\tif (null != this.maxZoom) {\n\t\t\tthis.setMaxZoom(this.maxZoom);\n\t\t}\n\n\t\tthis.doResize();\n\n\t\t// Fire map ready event\n\t\tthis.mapReady.emit(this.map);\n\n\t}\n\n\tngOnChanges(changes: { [key: string]: SimpleChange }) {\n\n\t\t/*\n\t\t * The following code is to address an issue with our (basic) implementation of\n\t\t * zooming and panning. From our testing, it seems that a pan operation followed\n\t\t * by a zoom operation in the same thread will interfere with eachother. The zoom\n\t\t * operation interrupts/cancels the pan, resulting in a final center point that is\n\t\t * inaccurate. The solution seems to be to either separate them with a timeout or\n\t\t  * to collapse them into a setView call.\n\t\t */\n\n\t\t// Zooming and Panning\n\t\tif (changes['zoom'] && changes['center'] && null != this.zoom && null != this.center) {\n\t\t\tthis.setView(changes['center'].currentValue, changes['zoom'].currentValue);\n\t\t}\n\t\t// Set the zoom level\n\t\telse if (changes['zoom']) {\n\t\t\tthis.setZoom(changes['zoom'].currentValue);\n\t\t}\n\t\t// Set the map center\n\t\telse if (changes['center']) {\n\t\t\tthis.setCenter(changes['center'].currentValue);\n\t\t}\n\n\t\t// Other options\n\t\tif (changes['fitBounds']) {\n\t\t\tthis.setFitBounds(changes['fitBounds'].currentValue);\n\t\t}\n\n\t\tif (changes['maxBounds']) {\n\t\t\tthis.setMaxBounds(changes['maxBounds'].currentValue);\n\t\t}\n\n\t\tif (changes['minZoom']) {\n\t\t\tthis.setMinZoom(changes['minZoom'].currentValue);\n\t\t}\n\n\t\tif (changes['maxZoom']) {\n\t\t\tthis.setMaxZoom(changes['maxZoom'].currentValue);\n\t\t}\n\n\t}\n\n\tpublic getMap() {\n\t\treturn this.map;\n\t}\n\n\n\t@HostListener('window:resize', [])\n\tonResize() {\n\t\tthis.delayResize();\n\t}\n\n\tprivate addMapEventListeners() {\n\n\t\t// Add all the pass-through mouse event handlers\n\t\tthis.map.on('click', (e: LeafletMouseEvent) => LeafletUtil.handleEvent(this.zone, this.onClick, e));\n\t\tthis.map.on('dblclick', (e: LeafletMouseEvent) => LeafletUtil.handleEvent(this.zone, this.onDoubleClick, e));\n\t\tthis.map.on('mousedown', (e: LeafletMouseEvent) => LeafletUtil.handleEvent(this.zone, this.onMouseDown, e));\n\t\tthis.map.on('mouseup', (e: LeafletMouseEvent) => LeafletUtil.handleEvent(this.zone, this.onMouseUp, e));\n\t\tthis.map.on('mouseover', (e: LeafletMouseEvent) => LeafletUtil.handleEvent(this.zone, this.onMouseOver, e));\n\t\tthis.map.on('mouseout', (e: LeafletMouseEvent) => LeafletUtil.handleEvent(this.zone, this.onMouseOut, e));\n\t\tthis.map.on('mousemove', (e: LeafletMouseEvent) => LeafletUtil.handleEvent(this.zone, this.onMouseMove, e));\n\n\t\tthis.map.on('zoomstart', (e: LeafletEvent) => LeafletUtil.handleEvent(this.zone, this.onMapZoomStart, e));\n\t\tthis.map.on('zoom', (e: LeafletEvent) => LeafletUtil.handleEvent(this.zone, this.onMapZoom, e));\n\t\tthis.map.on('zoomend', (e: LeafletEvent) => LeafletUtil.handleEvent(this.zone, this.onMapZoomEnd, e));\n\t\tthis.map.on('movestart', (e: LeafletEvent) => LeafletUtil.handleEvent(this.zone, this.onMapMoveStart, e));\n\t\tthis.map.on('move', (e: LeafletEvent) => LeafletUtil.handleEvent(this.zone, this.onMapMove, e));\n\t\tthis.map.on('moveend', (e: LeafletEvent) => LeafletUtil.handleEvent(this.zone, this.onMapMoveEnd, e));\n\n\n\t\t// Update any things for which we provide output bindings\n\t\tthis.map.on('zoomend moveend', () => {\n\t\t\tconst zoom = this.map.getZoom();\n\t\t\tif (zoom !== this.zoom) {\n\t\t\t\tthis.zoom = zoom;\n\t\t\t\tLeafletUtil.handleEvent(this.zone, this.zoomChange, zoom);\n\t\t\t}\n\n\t\t\tconst center = this.map.getCenter();\n\t\t\tif (null != center || null != this.center) {\n\n\t\t\t\tif (((null == center || null == this.center) && center !== this.center)\n\t\t\t\t\t|| (center.lat !== this.center.lat || center.lng !== this.center.lng)) {\n\n\t\t\t\t\tthis.center = center;\n\t\t\t\t\tLeafletUtil.handleEvent(this.zone, this.centerChange, center);\n\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\n\t/**\n\t * Resize the map to fit it's parent container\n\t */\n\tprivate doResize() {\n\n\t\t// Run this outside of angular so the map events stay outside of angular\n\t\tthis.zone.runOutsideAngular(() => {\n\n\t\t\t// Invalidate the map size to trigger it to update itself\n\t\t\tthis.map.invalidateSize({});\n\n\t\t});\n\n\t}\n\n\t/**\n\t * Manage a delayed resize of the component\n\t */\n\tprivate delayResize() {\n\t\tif (null != this.resizeTimer) {\n\t\t\tclearTimeout(this.resizeTimer);\n\t\t}\n\t\tthis.resizeTimer = setTimeout(this.doResize.bind(this), 200);\n\t}\n\n\n\t/**\n\t * Set the view (center/zoom) all at once\n\t * @param center The new center\n\t * @param zoom The new zoom level\n\t */\n\tprivate setView(center: LatLng, zoom: number) {\n\n\t\tif (this.map && null != center && null != zoom) {\n\t\t\tthis.map.setView(center, zoom, this.zoomPanOptions);\n\t\t}\n\n\t}\n\n\t/**\n\t * Set the map zoom level\n\t * @param zoom the new zoom level for the map\n\t */\n\tprivate setZoom(zoom: number) {\n\n\t\tif (this.map && null != zoom) {\n\t\t\tthis.map.setZoom(zoom, this.zoomOptions);\n\t\t}\n\n\t}\n\n\t/**\n\t * Set the center of the map\n\t * @param center the center point\n\t */\n\tprivate setCenter(center: LatLng) {\n\n\t\tif (this.map && null != center) {\n\t\t\tthis.map.panTo(center, this.panOptions);\n\t\t}\n\n\t}\n\n\t/**\n\t * Fit the map to the bounds\n\t * @param latLngBounds the boundary to set\n\t */\n\tprivate setFitBounds(latLngBounds: LatLngBounds) {\n\n\t\tif (this.map && null != latLngBounds) {\n\t\t\tthis.map.fitBounds(latLngBounds, this.fitBoundsOptions);\n\t\t}\n\n\t}\n\n\t/**\n\t * Set the map's max bounds\n\t * @param latLngBounds the boundary to set\n\t */\n\tprivate setMaxBounds(latLngBounds: LatLngBounds) {\n\n\t\tif (this.map && null != latLngBounds) {\n\t\t\tthis.map.setMaxBounds(latLngBounds);\n\t\t}\n\n\t}\n\n\t/**\n\t * Set the map's min zoom\n\t * @param number the new min zoom\n\t */\n\tprivate setMinZoom(zoom: number) {\n\n\t\tif (this.map && null != zoom) {\n\t\t\tthis.map.setMinZoom(zoom);\n\t\t}\n\n\t}\n\n\t/**\n\t * Set the map's min zoom\n\t * @param number the new min zoom\n\t */\n\tprivate setMaxZoom(zoom: number) {\n\n\t\tif (this.map && null != zoom) {\n\t\t\tthis.map.setMaxZoom(zoom);\n\t\t}\n\n\t}\n\n}\n"]}