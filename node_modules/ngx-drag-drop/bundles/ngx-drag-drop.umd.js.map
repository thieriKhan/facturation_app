{"version":3,"file":"ngx-drag-drop.umd.js","sources":["ng:/ngx-drag-drop/dnd-utils.ts","ng:/ngx-drag-drop/dnd-state.ts","ng:/ngx-drag-drop/dnd-draggable.directive.ts","ng:/ngx-drag-drop/dnd-dropzone.directive.ts","ng:/ngx-drag-drop/dnd-handle.directive.ts","ng:/ngx-drag-drop/dnd.module.ts"],"names":["Directive","ElementRef","EventEmitter","Renderer2","NgZone","Input","Output","HostBinding","HostListener","ContentChild","NgModule","CommonModule"],"mappings":"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AAAA,AAAA,AAAA,AAAA,AAEA,AACA,AAAA,AAAA,AAAA,AAGA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AACA,AAAA,AAAA,AAAA,AAKA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AACA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAGA,AAAA,AAAA,AAAA,AACA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AACA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AACA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAIA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AC7KA,AAiBA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAEA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAIA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAEA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,ACpHA,AAuBA,AAAA,AAAA,AACA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AATAX,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAGA,AAAA,AApBAC,AAAA,AAyBA,AAAA,AAVA,AAUA,AAkFA,AAAA,AAAA,AACA,AAAA,AACA,AAAA,AAFA,AAGA,AAHA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAzEA,AAAA,AAAA,AAAA,AAAA,AAMA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAQA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAyBA,AAvBA,AACA,AAAA,AADA,AACA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AAAA,AAEA,AACA,AAAA,AADA,AACA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAOA,AAAA,AAAA,AAAA,AAIA,AAHA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AACA,AAGA,AAAA,AADA,AACA,AAAA,AADA,AA8CA,AA3CA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AACA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AACA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAIA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAIA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAGA,AAAA,AADA,AACA,AAAA,AADA,AA2CA,AAvCA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAEA,AAAA,AAAA,AAEA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAEA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAEA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAEA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AAzNAF,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AA7BAC,AAAA,AAQAE,AAAA,AAHAC,AAAA,AA2BAC,AAAA,AAGAA,AAAA,AAGAA,AAAA,AAGAA,AAAA,AAGAA,AAAA,AAGAA,AAAA,AAGAA,AAAA,AAGAC,AAAA,AAGAA,AAAA,AAGAA,AAAA,AAGAA,AAAA,AAGAA,AAAA,AAGAA,AAAA,AAGAA,AAAA,AAGAC,AAAA,AAAA,AAAA,AAaAF,AAAA,AAeAA,AAAA,AAuBAG,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAqDAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAmEA,AAAA,AA1NA,AC9BA,AAqCA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AANAR,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AA9BAC,AAAA,AAmCA,AAAA,AAPA,AAOA,AA8DA,AAAA,AAAA,AACA,AAAA,AACA,AAAA,AAFA,AAGA,AAHA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAlDA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAKA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAyBA,AAvBA,AACA,AAAA,AADA,AACA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AAAA,AAEA,AACA,AAAA,AADA,AACA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAOA,AAAA,AAAA,AAAA,AAWA,AATA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AACA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAMA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AACA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAGA,AAAA,AADA,AACA,AAAA,AAEA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AACA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAKA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AACA,AAIA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AACA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AACA,AAGA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAIA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AACA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AACA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AACA,AAEA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AA9VAF,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAnCAI,AAAA,AAJAH,AAAA,AAOAE,AAAA,AAmCAE,AAAA,AAGAA,AAAA,AAGAA,AAAA,AAGAA,AAAA,AAGAA,AAAA,AAGAA,AAAA,AAGAC,AAAA,AAGAA,AAAA,AAGAG,AAAA,AAAA,AAAA,AAWAJ,AAAA,AAeAA,AAAA,AAmGAG,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAqMA,AAAA,AA/VA,ACzCA,AAYA,AAAA,AAAA,AAFA,AAAA,AAAA,AAAA,AAAA,AAIA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAIA,AAAA,AAFA,AAEA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAlBAR,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAJA,AAAA,AAOAO,AAAA,AAAA,AAAA,AAQAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAKA,AAAA,AAnBA,ACJA,AAMA,AAoBA,AApBAE,AAAA,AAAA,AACA,AAAA,AAAA,AACAC,AAAA,AACA,AACA,AAAA,AAAA,AACA,AAAA,AACA,AAAA,AACA,AAAA,AACA,AAAA,AACA,AAAA,AACA,AACA,AAAA,AAAA,AACA,AAAA,AACA,AAAA,AACA,AAAA,AACA,AAAA,AACA,AAAA,AACA,AACA,AAEA,AAAA,AApBA","sourcesContent":["import { DropEffect, EffectAllowed } from \"./dnd-types\";\n\nexport interface DragDropData {\n  data?:any;\n  type?:string;\n}\n\nexport interface DndEvent extends DragEvent {\n  _dndUsingHandle?:boolean;\n  _dndDropzoneActive?:true;\n}\n\nexport type DndDragImageOffsetFunction = ( event:DragEvent, dragImage:Element ) => { x:number, y:number };\n\nexport const DROP_EFFECTS = [ \"move\", \"copy\", \"link\" ] as DropEffect[];\n\nexport const CUSTOM_MIME_TYPE = \"application/x-dnd\";\nexport const JSON_MIME_TYPE = \"application/json\";\nexport const MSIE_MIME_TYPE = \"Text\";\n\nfunction mimeTypeIsCustom( mimeType:string ) {\n\n  return mimeType.substr( 0, CUSTOM_MIME_TYPE.length ) === CUSTOM_MIME_TYPE;\n}\n\nexport function getWellKnownMimeType( event:DragEvent ):string | null {\n\n  if( event.dataTransfer ) {\n\n    const types = event.dataTransfer.types;\n\n    // IE 9 workaround.\n    if( !types ) {\n\n      return MSIE_MIME_TYPE;\n    }\n\n    for( let i = 0; i < types.length; i++ ) {\n\n      if( types[ i ] === MSIE_MIME_TYPE\n        || types[ i ] === JSON_MIME_TYPE\n        || mimeTypeIsCustom( types[ i ] ) ) {\n\n        return types[ i ];\n      }\n    }\n  }\n\n  return null;\n}\n\nexport function setDragData( event:DragEvent, data:DragDropData, effectAllowed:EffectAllowed ):void {\n\n  // Internet Explorer and Microsoft Edge don't support custom mime types, see design doc:\n  // https://github.com/marceljuenemann/angular-drag-and-drop-lists/wiki/Data-Transfer-Design\n  const mimeType = CUSTOM_MIME_TYPE + (data.type ? (\"-\" + data.type) : \"\");\n\n  const dataString = JSON.stringify( data );\n\n  try {\n\n    event.dataTransfer.setData( mimeType, dataString );\n\n  }\n  catch( e ) {\n\n    //   Setting a custom MIME type did not work, we are probably in IE or Edge.\n    try {\n\n      event.dataTransfer.setData( JSON_MIME_TYPE, dataString );\n\n    }\n    catch( e ) {\n\n      //   We are in Internet Explorer and can only use the Text MIME type. Also note that IE\n      //   does not allow changing the cursor in the dragover event, therefore we have to choose\n      //   the one we want to display now by setting effectAllowed.\n      const effectsAllowed = filterEffects( DROP_EFFECTS, effectAllowed );\n      event.dataTransfer.effectAllowed = effectsAllowed[ 0 ];\n\n      event.dataTransfer.setData( MSIE_MIME_TYPE, dataString );\n    }\n  }\n}\n\nexport function getDropData( event:DragEvent, dragIsExternal:boolean ):DragDropData {\n\n  // check if the mime type is well known\n  const mimeType = getWellKnownMimeType( event );\n\n  // drag did not originate from [dndDraggable]\n  if( dragIsExternal === true ) {\n\n    if( mimeType !== null\n      && mimeTypeIsCustom( mimeType ) ) {\n\n      // the type of content is well known and safe to handle\n      return JSON.parse( event.dataTransfer.getData( mimeType ) );\n    }\n\n    // the contained data is unknown, let user handle it\n    return {};\n  }\n\n  // the type of content is well known and safe to handle\n  return JSON.parse( event.dataTransfer.getData( mimeType ) );\n}\n\nexport function filterEffects( effects:DropEffect[], allowed:EffectAllowed | DropEffect ):DropEffect[] {\n\n  if( allowed === \"all\"\n    || allowed === \"uninitialized\" ) {\n\n    return effects;\n  }\n\n  return effects.filter( function( effect ) {\n\n    return allowed.toLowerCase().indexOf( effect ) !== -1;\n  } );\n}\n\nexport function getDirectChildElement( parentElement:Element, childElement:Element ):Element | null {\n\n  let directChild:Node = childElement;\n\n  while( directChild.parentNode !== parentElement ) {\n\n    // reached root node without finding given parent\n    if( !directChild.parentNode ) {\n\n      return null;\n    }\n\n    directChild = directChild.parentNode;\n  }\n\n  return directChild as Element;\n}\n\nexport function shouldPositionPlaceholderBeforeElement( event:DragEvent, element:Element, horizontal:boolean ) {\n\n  const bounds = element.getBoundingClientRect();\n\n  // If the pointer is in the upper half of the list item element,\n  // we position the placeholder before the list item, otherwise after it.\n  if( horizontal ) {\n\n    return (event.clientX < bounds.left + bounds.width / 2);\n  }\n\n  return (event.clientY < bounds.top + bounds.height / 2);\n}\n\nexport function calculateDragImageOffset( event:DragEvent, dragImage:Element ):{ x:number, y:number } {\n\n  const dragImageComputedStyle = window.getComputedStyle( dragImage );\n  const paddingTop = parseFloat( dragImageComputedStyle.paddingTop ) || 0;\n  const paddingLeft = parseFloat( dragImageComputedStyle.paddingLeft ) || 0;\n  const borderTop = parseFloat( dragImageComputedStyle.borderTopWidth ) || 0;\n  const borderLeft = parseFloat( dragImageComputedStyle.borderLeftWidth ) || 0;\n\n  return {\n    x: event.offsetX + paddingLeft + borderLeft,\n    y: event.offsetY + paddingTop + borderTop\n  };\n}\n\nexport function setDragImage( event:DragEvent, dragImage:Element, offsetFunction:DndDragImageOffsetFunction ):void {\n\n  const offset = offsetFunction( event, dragImage ) || {x: 0, y: 0};\n\n  (event.dataTransfer as any).setDragImage( dragImage, offset.x, offset.y );\n}\n","import {\n  CUSTOM_MIME_TYPE,\n  DROP_EFFECTS,\n  filterEffects,\n  getWellKnownMimeType,\n  JSON_MIME_TYPE,\n  MSIE_MIME_TYPE\n} from \"./dnd-utils\";\nimport { DropEffect, EffectAllowed } from \"./dnd-types\";\n\nexport interface DndState {\n  isDragging:boolean;\n  dropEffect?:DropEffect;\n  effectAllowed?:EffectAllowed;\n  type?:string;\n}\n\nconst _dndState:DndState = {\n  isDragging: false,\n  dropEffect: \"none\",\n  effectAllowed: \"all\",\n  type: undefined\n};\n\nexport function startDrag( event:DragEvent, effectAllowed:EffectAllowed, type:string | undefined ) {\n\n  _dndState.isDragging = true;\n  _dndState.dropEffect = \"none\";\n  _dndState.effectAllowed = effectAllowed;\n  _dndState.type = type;\n\n  event.dataTransfer.effectAllowed = effectAllowed;\n}\n\nexport function endDrag() {\n\n  _dndState.isDragging = false;\n  _dndState.dropEffect = undefined;\n  _dndState.effectAllowed = undefined;\n  _dndState.type = undefined;\n}\n\nexport function setDropEffect( event:DragEvent, dropEffect:DropEffect ) {\n\n  if( _dndState.isDragging === true ) {\n\n    _dndState.dropEffect = dropEffect;\n  }\n\n  event.dataTransfer.dropEffect = dropEffect;\n}\n\nexport function getDropEffect( event:DragEvent, effectAllowed?:EffectAllowed | DropEffect ):DropEffect {\n\n  const dataTransferEffectAllowed:EffectAllowed = (event.dataTransfer) ? event.dataTransfer.effectAllowed as EffectAllowed : \"uninitialized\";\n\n  let effects = filterEffects( DROP_EFFECTS, dataTransferEffectAllowed );\n\n  if( _dndState.isDragging === true ) {\n\n    effects = filterEffects( effects, _dndState.effectAllowed );\n  }\n\n  if( effectAllowed ) {\n\n    effects = filterEffects( effects, effectAllowed );\n  }\n\n  // MacOS automatically filters dataTransfer.effectAllowed depending on the modifier keys,\n  // therefore the following modifier keys will only affect other operating systems.\n  if( effects.length === 0 ) {\n\n    return \"none\";\n  }\n\n  if( event.ctrlKey && effects.indexOf( \"copy\" ) !== -1 ) {\n\n    return \"copy\";\n  }\n\n  if( event.altKey && effects.indexOf( \"link\" ) !== -1 ) {\n\n    return \"link\";\n  }\n\n  return effects[ 0 ] as DropEffect;\n}\n\nexport function getDndType( event:DragEvent ):string | undefined {\n\n  if( _dndState.isDragging === true ) {\n\n    return _dndState.type;\n  }\n\n  const mimeType = getWellKnownMimeType( event );\n\n  if( mimeType === null ) {\n\n    return undefined;\n  }\n\n  if( mimeType === MSIE_MIME_TYPE\n    || mimeType === JSON_MIME_TYPE ) {\n\n    return undefined;\n  }\n\n  return mimeType.substr( CUSTOM_MIME_TYPE.length + 1 ) || undefined;\n}\n\nexport function isExternalDrag():boolean {\n\n  return _dndState.isDragging === false;\n}\n\nexport const dndState:Readonly<DndState> = _dndState as Readonly<DndState>;\n","import {\n  AfterViewInit,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  HostListener,\n  Input,\n  NgZone,\n  OnDestroy,\n  Output,\n  Renderer2\n} from \"@angular/core\";\nimport { calculateDragImageOffset, DndDragImageOffsetFunction, DndEvent, setDragData, setDragImage } from \"./dnd-utils\";\nimport { DndHandleDirective } from \"./dnd-handle.directive\";\nimport { dndState, endDrag, startDrag } from \"./dnd-state\";\nimport { EffectAllowed } from \"./dnd-types\";\n\n@Directive( {\n  selector: \"[dndDragImageRef]\"\n} )\nexport class DndDragImageRefDirective {\n\n  constructor( parent:DndDraggableDirective,\n               elementRef:ElementRef ) {\n\n    parent.registerDragImage( elementRef );\n  }\n}\n\n@Directive( {\n  selector: \"[dndDraggable]\"\n} )\nexport class DndDraggableDirective implements AfterViewInit, OnDestroy {\n\n  @Input()\n  dndDraggable:any;\n\n  @Input()\n  dndEffectAllowed:EffectAllowed = \"copy\";\n\n  @Input()\n  dndType?:string;\n\n  @Input()\n  dndDraggingClass = \"dndDragging\";\n\n  @Input()\n  dndDraggingSourceClass = \"dndDraggingSource\";\n\n  @Input()\n  dndDraggableDisabledClass = \"dndDraggableDisabled\";\n\n  @Input()\n  dndDragImageOffsetFunction:DndDragImageOffsetFunction = calculateDragImageOffset;\n\n  @Output()\n  readonly dndStart:EventEmitter<DragEvent> = new EventEmitter<DragEvent>();\n\n  @Output()\n  readonly dndDrag:EventEmitter<DragEvent> = new EventEmitter<DragEvent>();\n\n  @Output()\n  readonly dndEnd:EventEmitter<DragEvent> = new EventEmitter<DragEvent>();\n\n  @Output()\n  readonly dndMoved:EventEmitter<DragEvent> = new EventEmitter<DragEvent>();\n\n  @Output()\n  readonly dndCopied:EventEmitter<DragEvent> = new EventEmitter<DragEvent>();\n\n  @Output()\n  readonly dndLinked:EventEmitter<DragEvent> = new EventEmitter<DragEvent>();\n\n  @Output()\n  readonly dndCanceled:EventEmitter<DragEvent> = new EventEmitter<DragEvent>();\n\n  @HostBinding( \"attr.draggable\" )\n  draggable = true;\n\n  private dndHandle?:DndHandleDirective;\n\n  private dndDragImageElementRef?:ElementRef;\n\n  private dragImage:Element;\n\n  private isDragStarted:boolean = false;\n\n  private readonly dragEventHandler:( event:DragEvent ) => void = ( event:DragEvent ) => this.onDrag( event );\n\n  @Input()\n  set dndDisableIf( value:boolean ) {\n\n    this.draggable = !value;\n\n    if( this.draggable ) {\n\n      this.renderer.removeClass( this.elementRef.nativeElement, this.dndDraggableDisabledClass );\n    }\n    else {\n\n      this.renderer.addClass( this.elementRef.nativeElement, this.dndDraggableDisabledClass );\n    }\n  }\n\n  @Input()\n  set dndDisableDragIf( value:boolean ) {\n    this.dndDisableIf = value;\n  }\n\n  constructor( private elementRef:ElementRef,\n               private renderer:Renderer2,\n               private ngZone:NgZone ) {\n  }\n\n  ngAfterViewInit():void {\n    this.ngZone.runOutsideAngular( () => {\n      this.elementRef.nativeElement.addEventListener( \"drag\", this.dragEventHandler );\n    } );\n  }\n\n  ngOnDestroy():void {\n    this.elementRef.nativeElement.removeEventListener( \"drag\", this.dragEventHandler );\n    if(this.isDragStarted === true) {\n      endDrag()\n    }\n  }\n\n  @HostListener( \"dragstart\", [ \"$event\" ] )\n  onDragStart( event:DndEvent ) {\n\n    if( this.draggable === false ) {\n\n      return false;\n    }\n\n    // check if there is dnd handle and if the dnd handle was used to start the drag\n    if( typeof this.dndHandle !== \"undefined\"\n      && typeof event._dndUsingHandle === \"undefined\" ) {\n\n      return false;\n    }\n\n    // initialize global state\n    startDrag( event, this.dndEffectAllowed, this.dndType );\n\n    this.isDragStarted = true;\n\n    setDragData( event, {data: this.dndDraggable, type: this.dndType}, dndState.effectAllowed );\n\n    this.dragImage = this.determineDragImage();\n\n    // set dragging css class prior to setDragImage so styles are applied before\n    // TODO breaking change: add class to elementRef rather than drag image which could be another element\n    this.renderer.addClass( this.dragImage, this.dndDraggingClass );\n\n    // set custom dragimage if present\n    // set dragimage if drag is started from dndHandle\n    if( typeof this.dndDragImageElementRef !== \"undefined\"\n      || typeof event._dndUsingHandle !== \"undefined\" ) {\n\n      setDragImage( event, this.dragImage, this.dndDragImageOffsetFunction );\n    }\n\n    // add dragging source css class on first drag event\n    const unregister = this.renderer.listen( this.elementRef.nativeElement, \"drag\", () => {\n\n      this.renderer.addClass( this.elementRef.nativeElement, this.dndDraggingSourceClass );\n      unregister();\n    } );\n\n    this.dndStart.emit( event );\n\n    event.stopPropagation();\n  }\n\n  onDrag( event:DragEvent ) {\n\n    this.dndDrag.emit( event );\n  }\n\n  @HostListener( \"dragend\", [ \"$event\" ] )\n  onDragEnd( event:DragEvent ) {\n\n    // get drop effect from custom stored state as its not reliable across browsers\n    const dropEffect = dndState.dropEffect;\n\n    let dropEffectEmitter:EventEmitter<DragEvent>;\n\n    switch( dropEffect ) {\n\n      case \"copy\":\n        dropEffectEmitter = this.dndCopied;\n        break;\n\n      case \"link\":\n        dropEffectEmitter = this.dndLinked;\n        break;\n\n      case \"move\":\n        dropEffectEmitter = this.dndMoved;\n        break;\n\n      default:\n        dropEffectEmitter = this.dndCanceled;\n        break;\n    }\n\n    dropEffectEmitter.emit( event );\n    this.dndEnd.emit( event );\n\n    // reset global state\n    endDrag();\n\n    this.isDragStarted = false;\n\n    this.renderer.removeClass( this.dragImage, this.dndDraggingClass );\n\n    // IE9 special hammering\n    window.setTimeout( () => {\n      this.renderer.removeClass( this.elementRef.nativeElement, this.dndDraggingSourceClass );\n    }, 0 );\n\n    event.stopPropagation();\n  }\n\n  registerDragHandle( handle:DndHandleDirective | undefined ) {\n\n    this.dndHandle = handle;\n  }\n\n  registerDragImage( elementRef:ElementRef | undefined ) {\n\n    this.dndDragImageElementRef = elementRef;\n  }\n\n  private determineDragImage():Element {\n\n    // evaluate custom drag image existence\n    if( typeof this.dndDragImageElementRef !== \"undefined\" ) {\n\n      return this.dndDragImageElementRef.nativeElement as Element;\n    }\n    else {\n\n      return this.elementRef.nativeElement;\n    }\n  }\n}\n","import {\n  AfterViewInit,\n  ContentChild,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  NgZone,\n  OnDestroy,\n  Output,\n  Renderer2\n} from \"@angular/core\";\nimport {\n  DndEvent,\n  DragDropData,\n  getDirectChildElement,\n  getDropData,\n  shouldPositionPlaceholderBeforeElement\n} from \"./dnd-utils\";\nimport { getDndType, getDropEffect, isExternalDrag, setDropEffect } from \"./dnd-state\";\nimport { DropEffect, EffectAllowed } from \"./dnd-types\";\n\nexport interface DndDropEvent {\n  event:DragEvent;\n  dropEffect:DropEffect;\n  isExternal:boolean;\n  data?:any;\n  index?:number;\n  type?:any;\n}\n\n@Directive( {\n  selector: \"[dndPlaceholderRef]\"\n} )\nexport class DndPlaceholderRefDirective {\n\n  constructor( public readonly elementRef:ElementRef ) {\n  }\n}\n\n@Directive( {\n  selector: \"[dndDropzone]\"\n} )\nexport class DndDropzoneDirective implements AfterViewInit, OnDestroy {\n\n  @Input()\n  dndDropzone?:string[];\n\n  @Input()\n  dndEffectAllowed:EffectAllowed;\n\n  @Input()\n  dndAllowExternal:boolean = false;\n\n  @Input()\n  dndHorizontal:boolean = false;\n\n  @Input()\n  dndDragoverClass:string = \"dndDragover\";\n\n  @Input()\n  dndDropzoneDisabledClass = \"dndDropzoneDisabled\";\n\n  @Output()\n  readonly dndDragover:EventEmitter<DragEvent> = new EventEmitter<DragEvent>();\n\n  @Output()\n  readonly dndDrop:EventEmitter<DndDropEvent> = new EventEmitter<DndDropEvent>();\n\n  @ContentChild( DndPlaceholderRefDirective )\n  private readonly dndPlaceholderRef?:DndPlaceholderRefDirective;\n\n  private placeholder:Element | null = null;\n\n  private disabled:boolean = false;\n\n  private readonly dragEnterEventHandler:( event:DragEvent ) => void = ( event:DragEvent ) => this.onDragEnter( event );\n  private readonly dragOverEventHandler:( event:DragEvent ) => void = ( event:DragEvent ) => this.onDragOver( event );\n  private readonly dragLeaveEventHandler:( event:DragEvent ) => void = ( event:DragEvent ) => this.onDragLeave( event );\n\n  @Input()\n  set dndDisableIf( value:boolean ) {\n\n    this.disabled = !!value;\n\n    if( this.disabled ) {\n\n      this.renderer.addClass( this.elementRef.nativeElement, this.dndDropzoneDisabledClass );\n    }\n    else {\n\n      this.renderer.removeClass( this.elementRef.nativeElement, this.dndDropzoneDisabledClass );\n    }\n  }\n\n  @Input()\n  set dndDisableDropIf( value:boolean ) {\n    this.dndDisableIf = value;\n  }\n\n  constructor( private ngZone:NgZone,\n               private elementRef:ElementRef,\n               private renderer:Renderer2 ) {\n  }\n\n  ngAfterViewInit():void {\n\n    this.placeholder = this.tryGetPlaceholder();\n\n    this.removePlaceholderFromDOM();\n\n    this.ngZone.runOutsideAngular( () => {\n      this.elementRef.nativeElement.addEventListener( \"dragenter\", this.dragEnterEventHandler );\n      this.elementRef.nativeElement.addEventListener( \"dragover\", this.dragOverEventHandler );\n      this.elementRef.nativeElement.addEventListener( \"dragleave\", this.dragLeaveEventHandler );\n    } );\n  }\n\n  ngOnDestroy():void {\n    this.elementRef.nativeElement.removeEventListener( \"dragenter\", this.dragEnterEventHandler );\n    this.elementRef.nativeElement.removeEventListener( \"dragover\", this.dragOverEventHandler );\n    this.elementRef.nativeElement.removeEventListener( \"dragleave\", this.dragLeaveEventHandler );\n  }\n\n  onDragEnter( event:DndEvent ) {\n\n    // check if another dropzone is activated\n    if( event._dndDropzoneActive === true ) {\n\n      this.cleanupDragoverState();\n      return;\n    }\n\n    // set as active if the target element is inside this dropzone\n    if( typeof event._dndDropzoneActive === \"undefined\" ) {\n\n      const newTarget = document.elementFromPoint( event.clientX, event.clientY );\n\n      if( this.elementRef.nativeElement.contains( newTarget ) ) {\n\n        event._dndDropzoneActive = true;\n      }\n    }\n\n    // check if this drag event is allowed to drop on this dropzone\n    const type = getDndType( event );\n    if( this.isDropAllowed( type ) === false ) {\n\n      return;\n    }\n\n    // allow the dragenter\n    event.preventDefault();\n  }\n\n  onDragOver( event:DragEvent ) {\n    // With nested dropzones, we want to ignore this event if a child dropzone\n    // has already handled a dragover.  Historically, event.stopPropagation() was\n    // used to prevent this bubbling, but that prevents any dragovers outside the\n    // ngx-drag-drop component, and stops other use cases such as scrolling on drag.\n    // Instead, we can check if the event was already prevented by a child and bail early.\n    if( event.defaultPrevented ) {\n\n      return;\n    }\n\n    // check if this drag event is allowed to drop on this dropzone\n    const type = getDndType( event );\n    if( this.isDropAllowed( type ) === false ) {\n\n      return;\n    }\n\n    this.checkAndUpdatePlaceholderPosition( event );\n\n    const dropEffect = getDropEffect( event, this.dndEffectAllowed );\n\n    if( dropEffect === \"none\" ) {\n\n      this.cleanupDragoverState();\n      return;\n    }\n\n    // allow the dragover\n    event.preventDefault();\n\n    // set the drop effect\n    setDropEffect( event, dropEffect );\n\n    this.dndDragover.emit( event );\n\n    this.renderer.addClass( this.elementRef.nativeElement, this.dndDragoverClass );\n  }\n\n  @HostListener( \"drop\", [ \"$event\" ] )\n  onDrop( event:DragEvent ) {\n\n    try {\n\n      // check if this drag event is allowed to drop on this dropzone\n      const type = getDndType( event );\n      if( this.isDropAllowed( type ) === false ) {\n\n        return;\n      }\n\n      const data:DragDropData = getDropData( event, isExternalDrag() );\n\n      if( this.isDropAllowed( data.type ) === false ) {\n\n        return;\n      }\n\n      // signal custom drop handling\n      event.preventDefault();\n\n      const dropEffect = getDropEffect( event );\n\n      setDropEffect( event, dropEffect );\n\n      if( dropEffect === \"none\" ) {\n\n        return;\n      }\n\n      const dropIndex = this.getPlaceholderIndex();\n\n      // if for whatever reason the placeholder is not present in the DOM but it should be there\n      // we don't allow/emit the drop event since it breaks the contract\n      // seems to only happen if drag and drop is executed faster than the DOM updates\n      if( dropIndex === -1 ) {\n\n        return;\n      }\n\n      this.dndDrop.emit( {\n        event: event,\n        dropEffect: dropEffect,\n        isExternal: isExternalDrag(),\n        data: data.data,\n        index: dropIndex,\n        type: type,\n      } );\n\n      event.stopPropagation();\n\n    }\n    finally {\n\n      this.cleanupDragoverState();\n    }\n  }\n\n  onDragLeave( event:DndEvent ) {\n\n    // check if still inside this dropzone and not yet handled by another dropzone\n    if( typeof event._dndDropzoneActive === \"undefined\" ) {\n\n      const newTarget = document.elementFromPoint( event.clientX, event.clientY );\n\n      if( this.elementRef.nativeElement.contains( newTarget ) ) {\n\n        event._dndDropzoneActive = true;\n        return;\n      }\n    }\n\n    this.cleanupDragoverState();\n\n    // cleanup drop effect when leaving dropzone\n    setDropEffect( event, \"none\" );\n  }\n\n  private isDropAllowed( type?:string ):boolean {\n\n    // dropzone is disabled -> deny it\n    if( this.disabled === true ) {\n\n      return false;\n    }\n\n    // if drag did not start from our directive\n    // and external drag sources are not allowed -> deny it\n    if( isExternalDrag() === true\n      && this.dndAllowExternal === false ) {\n\n      return false;\n    }\n\n    // no filtering by types -> allow it\n    if( !this.dndDropzone ) {\n\n      return true;\n    }\n\n    // no type set -> allow it\n    if( !type ) {\n\n      return true;\n    }\n\n    if( Array.isArray( this.dndDropzone ) === false ) {\n\n      throw new Error( \"dndDropzone: bound value to [dndDropzone] must be an array!\" );\n    }\n\n    // if dropzone contains type -> allow it\n    return this.dndDropzone.indexOf( type ) !== -1;\n  }\n\n  private tryGetPlaceholder():Element | null {\n\n    if( typeof this.dndPlaceholderRef !== \"undefined\" ) {\n\n      return this.dndPlaceholderRef.elementRef.nativeElement as Element;\n    }\n\n    // TODO nasty workaround needed because if ng-container / template is used @ContentChild() or DI will fail because\n    // of wrong context see angular bug https://github.com/angular/angular/issues/13517\n    return this.elementRef.nativeElement.querySelector( \"[dndPlaceholderRef]\" );\n  }\n\n  private removePlaceholderFromDOM() {\n\n    if( this.placeholder !== null\n      && this.placeholder.parentNode !== null ) {\n      this.placeholder.parentNode.removeChild( this.placeholder );\n    }\n  }\n\n  private checkAndUpdatePlaceholderPosition( event:DragEvent ):void {\n\n    if( this.placeholder === null ) {\n\n      return;\n    }\n\n    // make sure the placeholder is in the DOM\n    if( this.placeholder.parentNode !== this.elementRef.nativeElement ) {\n\n      this.renderer.appendChild( this.elementRef.nativeElement, this.placeholder );\n    }\n\n    // update the position if the event originates from a child element of the dropzone\n    const directChild = getDirectChildElement( this.elementRef.nativeElement, event.target as Element );\n\n    // early exit if no direct child or direct child is placeholder\n    if( directChild === null\n      || directChild === this.placeholder ) {\n\n      return;\n    }\n\n    const positionPlaceholderBeforeDirectChild = shouldPositionPlaceholderBeforeElement( event, directChild, this.dndHorizontal );\n\n    if( positionPlaceholderBeforeDirectChild ) {\n\n      // do insert before only if necessary\n      if( directChild.previousSibling !== this.placeholder ) {\n\n        this.renderer.insertBefore( this.elementRef.nativeElement, this.placeholder, directChild );\n      }\n    }\n    else {\n\n      // do insert after only if necessary\n      if( directChild.nextSibling !== this.placeholder ) {\n\n        this.renderer.insertBefore( this.elementRef.nativeElement, this.placeholder, directChild.nextSibling );\n      }\n    }\n  }\n\n  private getPlaceholderIndex():number | undefined {\n\n    if( this.placeholder === null ) {\n\n      return undefined;\n    }\n\n    const element = this.elementRef.nativeElement as HTMLElement;\n\n    return Array.prototype.indexOf.call( element.children, this.placeholder );\n  }\n\n  private cleanupDragoverState() {\n\n    this.renderer.removeClass( this.elementRef.nativeElement, this.dndDragoverClass );\n\n    this.removePlaceholderFromDOM();\n  }\n}\n","import { Directive, HostBinding, HostListener } from \"@angular/core\";\nimport { DndEvent } from \"./dnd-utils\";\nimport { DndDraggableDirective } from \"./dnd-draggable.directive\";\n\n@Directive( {\n  selector: \"[dndHandle]\"\n} )\nexport class DndHandleDirective {\n\n  @HostBinding( \"attr.draggable\" )\n  draggable = true;\n\n  constructor( parent:DndDraggableDirective ) {\n\n    parent.registerDragHandle( this );\n  }\n\n  @HostListener( \"dragstart\", [ \"$event\" ] )\n  @HostListener( \"dragend\", [ \"$event\" ] )\n  onDragEvent( event:DndEvent ) {\n\n    event._dndUsingHandle = true;\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { DndDraggableDirective, DndDragImageRefDirective } from \"./dnd-draggable.directive\";\nimport { DndDropzoneDirective, DndPlaceholderRefDirective } from \"./dnd-dropzone.directive\";\nimport { DndHandleDirective } from \"./dnd-handle.directive\";\n\n@NgModule( {\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    DndDraggableDirective,\n    DndDropzoneDirective,\n    DndHandleDirective,\n    DndPlaceholderRefDirective,\n    DndDragImageRefDirective\n  ],\n  exports: [\n    DndDraggableDirective,\n    DndDropzoneDirective,\n    DndHandleDirective,\n    DndPlaceholderRefDirective,\n    DndDragImageRefDirective\n  ]\n} )\nexport class DndModule {\n}\n"]}